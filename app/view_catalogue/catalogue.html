<div ng-cloak ng-controller="StoreController as store">
<md-content class="md-padding" layout="row" layout-wrap layout-align="center start" layout-xs="column" ng-repeat="line in store.products | groupBy: 2">
<div flex="50" flex-sm="100" flex-xs="100" layout="column" ng-repeat="product in line" ng-hide="product.soldOut" >
		<md-card>
			<md-card-header>
			<md-card-header-text>
			<div style="font-size: 38px">{{product.name}}
				<em class="pull-right md-accent">{{product.price | currency}}</em>
			</div>
			</md-card-header-text>
			</md-card-header>
			<md-card-content>
			<md-button aria-label="cart" class="md-fab md-accent button-buy" ng-show="product.canPurchase">
				<ng-md-icon icon="add_shopping_cart" style="fill:white"></ng-md-icon>
			</md-button>
				<div class="gallery" ng-show="product.images.length" ng-controller="GalleryController as gallery">
					<img class="img img-circle img-thumbnail center-block" width="200px" ng-src="{{product.images[gallery.current]}}" />
					<div class="clearfix">
						<div class="img small-image pull-left thumbnail" ng-repeat="image in product.images">
							<img width="80px" ng-src="{{image}}" />			
						</div>
					</div>
				</div>
				<p>{{product.description}}</p>
				<section class="tab" ng-controller="TabController as tab">
					<div flex layout="row">
						<div>
							<md-button ng-class="{'md-primary':tab.isSet(1) }" aria-label="desc" ng-click='tab.setTab(1)'>Description</md-button>
						</div>
						<div>
							<md-button ng-class="{ 'md-primary':tab.isSet(2) }" aria-label="specs" ng-click='tab.setTab(2)'>Specs</md-button>
						</div>
						<div>
							<md-button ng-class="{'md-primary':tab.isSet(3) }" aria-label="revs" ng-click='tab.setTab(3)'>Reviews</md-button>
						</div>
					</div>
					<div ng-show='tab.isSet(1)'>
						<md-content flex layout-padding>
							<p>{{product.description}}</p>
						</md-content>
					</div>
					<div ng-show='tab.isSet(2)'>
						<md-content flex layout-padding>Shine: {{product.shine}}</md-content>
					</div>
					<div ng-show='tab.isSet(3)'>
						<md-content flex layout-padding></md-content>
					</div>
				</section>
			</md-card-content>

		</md-card>
</div>
</md-content>
</div>
